<Window 
    x:Class="TenderApp.Views.TenderListWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:TenderApp.ViewModels"
        
    Height="450" 
    Title="Тендеры" 
    Width="800"
    WindowStartupLocation="CenterScreen"
    >
    <Window.InputBindings>
        <KeyBinding 
            Key="N"
            Modifiers="Control"
            Command="{Binding CreateItemCommand}"
            />
        <KeyBinding
            Key="R"
            Modifiers="Control"
            Command="{Binding TenderCriteriaCommand}"
            />
        <KeyBinding
            Key="S"
            Modifiers="Control"
            Command="{Binding CriteriaCommand}"
            />
        <KeyBinding
            Key="P"
            Modifiers="Control"
            Command="{Binding BuyerTendersCommand}"
            />
        <KeyBinding
            Key="G"
            Modifiers="Control"
            Command="{Binding UsersCommand}"
            />
    </Window.InputBindings>

    <StackPanel>
        <Menu
            KeyboardNavigation.DirectionalNavigation="None">
            <MenuItem Header="Тендеры">
                <MenuItem 
                    Command="{Binding CreateItemCommand}"
                    Header="Добавить"
                    InputGestureText="Ctrl+N"
                    />
                <MenuItem 
                    Command="{Binding EditItemCommand}"
                    Header="Редактировать"
                    InputGestureText="Enter" 
                    />
                <MenuItem
                    Command="{Binding DeleteItemCommand}"
                    Header="Удалить"
                    InputGestureText="Del" 
                    />
            </MenuItem>
            <MenuItem
                Header="Критерии">
                <MenuItem
                    Command="{Binding TenderCriteriaCommand}"
                    Header="Критерии тендера"
                    InputGestureText="Ctrl+R"
                    />
                <Separator/>
                <MenuItem
                    Command="{Binding CriteriaCommand}"
                    Header="Список критериев"
                    InputGestureText="Ctrl+S"
                    />
            </MenuItem>

            <MenuItem
                Command="{Binding BuyerTendersCommand}"
                Header="Список тендеров участника Ctrl+P"
                InputGestureText="Ctrl+P"
                />
            
            <MenuItem
                Command="{Binding UsersCommand}"
                Header="Список пользоателей Ctrl+G"
                InputGestureText="Ctrl+G"
                />
        </Menu>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel
                Grid.Column="0"
                Grid.Row="0"
                Margin="10"
                >
                <TextBlock
                    FontWeight="Bold"
                    Margin="5"
                    Text="Тендеры"
                    />
                <DataGrid x:Name="dataGrid" 
                    AutoGenerateColumns="False"
                    CanUserAddRows="False"
                    CanUserDeleteRows="False"
                    Height="200"
                    IsReadOnly="True"
                    IsTabStop="True"
                    ItemsSource="{Binding Items}"
                    SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
                    SelectionUnit="FullRow"
                    SelectionMode="Extended"
                          
                    MouseDoubleClick="DataGrid_MouseDoubleClick"
                    PreviewKeyDown="DataGrid_PreviewKeyDown"
                    SelectionChanged="DataGrid_SelectionChanged"
                    >
                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter 
                                Property="HorizontalContentAlignment"
                                Value="Center"
                                />
                            <Setter 
                                Property="FontWeight" 
                                Value="Bold"
                                />
                        </Style>
                    </DataGrid.ColumnHeaderStyle>

                    <DataGrid.Columns>
                        <DataGridTextColumn 
                            Binding="{Binding Product}"
                            Header="Продукт"
                            />
                        <DataGridTextColumn 
                            Binding="{Binding Budget}"
                            Header="Бюджет"
                            >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter 
                                        Property="HorizontalAlignment"
                                        Value="Right"
                                        />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn 
                            Binding="{Binding Quantity}"
                            Header="Количество"
                            >
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter 
                                        Property="HorizontalAlignment" 
                                        Value="Right"
                                        />
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn 
                            Binding="{Binding CreatedBy.Name}"
                            Header="Category Manager"
                            />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Grid>
    </StackPanel>
</Window>

<!--KeyboardNavigation.DirectionalNavigation="Continue"-->
